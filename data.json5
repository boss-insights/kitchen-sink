/* ORIGINATION AND FORGIVENESS COMBINED */
{
  profile: {
    fields: [
      {type: 'divider', title: 'Contact Info'},
      {type: 'hidden'},

      {
        name: 'legal_name',
        type: 'text',
        title: 'Business Legal Name',
        hint:  "Enter the same business name used on your PPP application, which should be identical to the name you use on your tax returns.",
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'legal_name'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'legal_name'},
            'second': {key: 'ppp2-draw-application-second', field: 'legal_name'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'legal_name'}
          },
          ifEmpty: true
        }
      },
      {
        name: 'dba_tradename',
        type: 'text',
        title: 'DBA or Tradename, if applicable',
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'dba_tradename'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'dba_tradename'},
            'second': {key: 'ppp2-draw-application-second', field: 'dba_tradename'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'dba_tradename'}
          },
          ifEmpty: true
        }
      },

      {
        name: 'address_line_1',
        type: 'text',
        title: 'Address Line 1',
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'address_line_1'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'address_line_1'},
            'second': {key: 'ppp2-draw-application-second', field: 'address_line_1'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'address_line_1'}
          },
          ifEmpty: true
        }
      },
      {
        name: 'address_line_2',
        type: 'text',
        title: 'Address Line 2',
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'address_line_2'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'address_line_2'},
            'second': {key: 'ppp2-draw-application-second', field: 'address_line_2'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'address_line_2'}
          },
          ifEmpty: true
        }
      },
      {
        name: 'city',
        type: 'text',
        title: 'City',
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'city'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'city'},
            'second': {key: 'ppp2-draw-application-second', field: 'city'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'city'}
          },
          ifEmpty: true
        }
      },
      {
        name: 'state',
        type: 'text',
        title: 'State (2 letter code)',
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'state'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'state'},
            'second': {key: 'ppp2-draw-application-second', field: 'state'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'state'}
          },
          ifEmpty: true
        }
      },

      {
        name: 'business_phone',
        type: 'tel',
        title: 'Business Phone',
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'phone_number'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'phone_number'},
            'second': {key: 'ppp2-draw-application-second', field: 'phone_number'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'phone_number'}
          },
          ifEmpty: true
        }
      },
      {
        name: 'email',
        type: 'email',
        title: 'Email',
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'primary_contact_email'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'primary_contact_email'},
            'second': {key: 'ppp2-draw-application-second', field: 'primary_contact_email'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'primary_contact_email'}
          },
          ifEmpty: true
        }
      },

      {name: 'first_name', type: 'text', title: 'Primary Contact First Name'},
      {name: 'last_name', type: 'text', title: 'Primary Contact Last Name'},

      {type: 'divider', title: 'Application Info'},
      {type: 'hidden'},

      {
        name: 'ppp_forgiveness_draw',
        type: 'select',
        title: 'Please select for which PPP Draw you are applying for forgiveness:',
        values: [
          {title: 'First Draw PPP Loan', value: '1'},
          { title: 'Second Draw PPP Loan', value: '2'}
        ],
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': '1',
            'first-schedule-c': '1',
            'second': '2',
            'second-schedule-c': '2'
          },
          ifEmpty: true
        }
      },
      {type: 'hidden'},

      {
        name: 'tin',
        type: 'text',
        title: 'Business EIN/SSN/ITIN',
        hint: "Your business Tax Identification Number. Use the same information as on your PPP application unless the information has changed.",
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'tin'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'tin'},
            'second': {key: 'ppp2-draw-application-second', field: 'tin'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'tin'}
          },
          ifEmpty: true
        }
      },
      {
        name: 'loan_amount',
        type: 'number',
        title: 'PPP Loan Amount',
        hint: "The full loan amount you received.<br>You can confirm this amount in your bank records,<br>PPP loan agreement, or in a confirmation email.",
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'loan_amount'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'loan_amount'},
            'second': {key: 'ppp2-draw-application-second', field: 'loan_amount'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'loan_amount'}
          },
          default: {key: 'ppp2-lender-review', field: 'loan-amount'},
          ifEmpty: true
        }
      },

      {
        name: 'sba_loan',
        type: 'text',
        title: 'SBA Loan Number',
        hint: "This is your E-tran number that the SBA generated for you. Each business gets one E-tran number per PPP loan. If you have multiple businesses and multiple PPP loans, you will have more than one E-tran number.<br> If you don't know where to find this number, speak to your lender â€” they'll have it on file.",
        link: {
          value: {key: 'ppp2-lender-review', field: 'sba-number'},
          ifEmpty: true
        }
      },
      {
        name: 'lender_loan',
        type: 'text',
        title: 'Lender PPP Loan Number',
        hint: " The number the lender has assigned to your loan in their systems.<br>You can find this on your signed loan docs.<br>If you can't find it, your lender will be able to provide it for you. <br> "
      },

      {
        name: 'num_employees_at_loan',
        type: 'number',
        title: 'Employees at Time of Loan Application',
        hint: "Enter the total number of employees at the time of the PPP loan application.",
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'number_of_employees'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'number_of_employees'},
            'second': {key: 'ppp2-draw-application-second', field: 'number_of_employees'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'number_of_employees'}
          },
          ifEmpty: true
        }
      },
      {name: 'num_employees_at_forgiveness', type:  'number', title: 'Employees at Time of Forgiveness Application', hint: "Enter the total number of employees at the time the Borrower is applying for loan forgiveness."},

      {name: 'covered_start', type: 'date', title: 'Covered Period Start Date (Loan Disbursement Date)', hint: "The Covered Period begins on the date the loan was originally disbursed. It ends on a date selected by the Borrower that is at least 8 weeks following the date of loan disbursement and not more than 24 weeks after the date of loan disbursement.<br>For example, if the Borrower received their PPP loan proceeds on Monday, April 20, 2020, the first day of the Covered Period is Monday, April 20, 2020 and the final day of the Covered Period is any date selected by the Borrower between Sunday, June 14, 2020 and Sunday, October 4, 2020."},
      {name: 'covered_end', type: 'date', title: 'Covered Period End Date', hint: "In no event may the Covered Period extend beyond September 30, 2021."},


      //  Hidden fields
      {
        name: 'naics_code',
        type: 'hidden',
        title: 'NAICS Code',
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'naics_code'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'naics_code'},
            'second': {key: 'ppp2-draw-application-second', field: 'naics_code'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'naics_code'}
          },
          ifEmpty: true
        }
      },
      {
        name: 'primary_contact',
        type: 'hidden',
        title: 'Primary Contact',
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'primary_contact'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'primary_contact'},
            'second': {key: 'ppp2-draw-application-second', field: 'primary_contact'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'primary_contact'}
          },
          ifEmpty: true
        }
      },

      // these next 2 loan_workflow_ fields are hidden so that they can't be overwritten and will always show what the loan application has
      {
        name: 'loan_workflow_loan_amount',
        type: 'hidden',
        title: 'Loan Workflow Loan Amount',
        hint: "The full loan amount you received.<br>You can confirm this amount in your bank records,<br>PPP loan agreement, or in a confirmation email.",
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'loan_amount'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'loan_amount'},
            'second': {key: 'ppp2-draw-application-second', field: 'loan_amount'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'loan_amount'}
          },
          default: {key: 'ppp2-lender-review', field: 'loan-amount'},
          ifEmpty: true
        }
      },
      {
        name: 'loan_workflow_sba_loan',
        type: 'hidden',
        title: 'Loan Workflow SBA Loan Number',
        hint: "This is your E-tran number that the SBA generated for you. Each business gets one E-tran number per PPP loan. If you have multiple businesses and multiple PPP loans, you will have more than one E-tran number.<br> If you don't know where to find this number, speak to your lender â€” they'll have it on file.",
        link: {
          value: {key: 'ppp2-lender-review', field: 'sba-number'},
          ifEmpty: true
        }
      },

      {name: 'business_type', type: 'hidden', title: 'Business Type'},
      {name: 'zip_code', type: 'hidden', title: 'Zip Code'},
      {name: 'zip_code_plus_4', type: 'hidden', title: 'Zip+4'},
      {name: 'tin_type', type: 'hidden', title: 'TIN Type'},
      {name: 'average_monthly_payroll', type: 'hidden', title: 'Average Monthly Payroll'},
      {name: 'number_of_employees', type: 'hidden', title: 'Number of Employees'},

      {name: 'fd_question_1', type: 'hidden', title: 'Question 1'},
      {name: 'fd_question_2', type: 'hidden', title: 'Question 2'},
      {name: 'fd_question_5', type: 'hidden', title: 'Question 5'},
      {name: 'fd_question_6', type: 'hidden', title: 'Question 6'},
      {name: 'fd_question_7', type: 'hidden', title: 'Question 7'},

      {name: 'ppp_first_draw_sba_loan_number', type: 'hidden', title: 'PPP First Draw SBA Loan Number'},
      {name: 'period_1_quarter', type: 'hidden', title: '2020 Quarter'},
      {name: 'period_1_revenue', type: 'hidden', title: '2020 Quarter Gross Receipts'},
      {name: 'period_2_quarter', type: 'hidden', title: '2019 Reference Quarter'},
      {name: 'period_2_revenue', type: 'hidden', title: '2019 Reference Quarter Gross Receipts'},

      {name: 'sd_question_1', type: 'hidden', title: 'Second Draw Question 1'},
      {name: 'sd_question_2', type: 'hidden', title: 'Second Draw Question 2'},
      {name: 'sd_question_4', type: 'hidden', title: 'Second Draw Question 4'},
      {name: 'sd_question_5', type: 'hidden', title: 'Second Draw Question 5'},
      {name: 'sd_question_6', type: 'hidden', title: 'Second Draw Question 6'},

      {name: 'ppp_loan_draw', type: 'hidden', title: 'Loan Draw', link: {value: {key: 'ppp2-form-selection', field: 'draw-selection'}, ifEmpty: true}},

      {
        name: 'signature_date_2483',
        type: 'hidden',
        title: '2483 Signature Date',
        switch: {
          control: {key: 'ppp2-form-selection', field: 'draw-selection'},
          cases: {
            'first': {key: 'ppp2-draw-application-first', field: 'signature_date'},
            'first-schedule-c': {key: 'ppp2-draw-application-first-schedule-c', field: 'signature_date'},
            'second': {key: 'ppp2-draw-application-second', field: 'signature_date'},
            'second-schedule-c': {key: 'ppp2-draw-application-second-schedule-c', field: 'signature_date'}
          },
          ifEmpty: true
        }
      },
      {name: 'ppp_loan_decision_date', type: 'hidden', title:  'Loan Decision Date', link: {value: {key: 'ppp2-lender-review', field: 'sba-decision-date'}, ifEmpty: true}}
    ],
  },
  forms: {
    "ppp2-closing": {
      title: 'PPP Note',
      description: 'Closing Documents',
      pdfFormFile: {
        'path': 'ppp2_closing/',
        'file': '' // @TODO create/map sample doc?
      },
      fields: [
        {
          name: 'sba_loan_number',
          title: 'SBA Loan Number',
          type: 'text',
          attributes: {required: true},
          pdfFormField: {
            name: 'SBA Loan Number',
            editable: 'lender_init', // possible values: 'lender_init', 'form_filler', 'signatory1', 'signatory2', ..., 'lender_signing'
            llx: 328.92,
            lly: 683.88,
            width: 82.08,
            height: 10.44
          }
        },
        {
          name: 'bank_loan_number',
          title: 'Bank Loan Number',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'Bank Loan Number',
            editable: 'lender_init'
          }
        },
        {
          name: 'borrower_tax_id',
          title: 'Borrower\'s Tax ID # (EIN/SSN)',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'Borrower s Tax ID  EINSSN',
            editable: 'lender_init'
          }
        },
        {
          name: 'loan_date',
          title: 'Loan Date',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'Loan Date',
            editable: 'lender_init'
          }
        },
        {
          name: 'loan_amount',
          title: 'Loan Amount',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'Loan Amount',
            editable: 'lender_init'
          }
        },
        {
          name: 'borrower',
          title: 'Borrower',
          type: 'textarea',
          attributes: {required: true},
          pdfFormField:{
            name: 'Borrower',
            editable: 'lender_init'
          }
        },
        {
          name: 'principal_amount',
          title: 'Loan Amount',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'principal amount',
            editable: 'lender_init'
          }
        },
        {
          name: 'borrower_name',
          title: 'Borrower',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'Borrower Name',
            editable: 'lender_init'
          }
        },
        {
          name: 'name1',
          title: 'Name',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'Name_1',
            editable: 'signatory1'
          }
        },
        {
          name: 'title1',
          title: 'Title',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'e_1',
            editable: 'signatory1'
          }
        },
        {
          name: 'signature1',
          title: 'Signature',
          type: 'signature',
          attributes: {required: true},
          pdfFormField:{
            name: 'Signature_1',
            editable: 'signatory1'
          }
        },
        {
          name: 'name2',
          title: 'Name',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'Name_2',
            editable: 'signatory2'
          }
        },
        {
          name: 'title2',
          title: 'Title',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'e_2',
            editable: 'signatory2'
          }
        },
        {
          name: 'signature2',
          title: 'Signature',
          type: 'signature',
          attributes: {required: true},
          pdfFormField:{
            name: 'Signature_2',
            editable: 'signatory2'
          }
        },
        {
          name: 'name3',
          title: 'Name',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'Name_3',
            editable: 'signatory3'
          }
        },
        {
          name: 'title3',
          title: 'Title',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'e_3',
            editable: 'signatory3'
          }
        },
        {
          name: 'signature3',
          title: 'Signature',
          type: 'signature',
          attributes: {required: true},
          pdfFormField:{
            name: 'Signature_3',
            editable: 'signatory3'
          }
        },
        {
          name: 'name4',
          title: 'Name',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'Name_4',
            editable: 'signatory4'
          }
        },
        {
          name: 'title4',
          title: 'Title',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'e_4',
            editable: 'signatory4'
          }
        },
        {
          name: 'signature4',
          title: 'Signature',
          type: 'signature',
          attributes: {required: true},
          pdfFormField:{
            name: 'Signature_4',
            editable: 'signatory4'
          }
        },
        {
          name: 'name5',
          title: 'Name',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'Name_5',
            editable: 'signatory5'
          }
        },
        {
          name: 'title5',
          title: 'Title',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'e_5',
            editable: 'signatory5'
          }
        },
        {
          name: 'signature5',
          title: 'Signature',
          type: 'signature',
          attributes: {required: true},
          pdfFormField:{
            name: 'Signature_5',
            editable: 'signatory5'
          }
        },
        {
          name: 'legal_name',
          title: 'Legal Name',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'legal name',
            editable: 'lender_init'
          }
        },
        {
          name: 'print_name',
          title: 'Print Name',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'Print Name',
            editable: 'signatory1'
          }
        },
        {
          name: 'title',
          title: 'Title',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'Title',
            editable: 'signatory1'
          }
        },
        {
          name: 'signature',
          title: 'Authorized Signer for the Company',
          type: 'signature',
          attributes: {required: true},
          pdfFormField:{
            name: 'Authorized Signer for the Company',
            editable: 'signatory1'
          }
        },
        {
          name: 'todays_date',
          title: 'Today\'s Date',
          type: 'text',
          attributes: {required: true},
          pdfFormField:{
            name: 'Todays Date',
            editable: 'signatory1'
          }
        },
      ],
      access: {
        read: [
          'admins',
          'users'
        ],
        modify: [
          'admins',
          'users'
        ]
      }
    },
    "lender-info": {
      title: 'Lender Info',
      description: "This info will be used for SBA Form 2484 PDF generation",
      fields: [
        {
          name: 'lender_name',
          title: 'Lender Name',
          type: 'text',
          attributes: {required: true, maxlength: '39'}
        },
        {
          name: 'lender_location_id',
          title: 'Lender Location ID',
          type: 'text',
          attributes: {required: true, maxlength: '17'}
        },
        {
          name: 'address',
          title: 'Address',
          type: 'text',
          attributes: {required: true, maxlength: '30'}
        },
        {
          name: 'city',
          title: 'City',
          type: 'text',
          attributes: {required: true, maxlength: '16'}
        },
        {
          name: 'state',
          title: '2-Letter State Code',
          type: 'text',
          attributes: {required: true, maxlength: '2'}
        },
        {
          name: 'zip',
          title: 'Zip',
          type: 'text',
          attributes: {required: true, maxlength: '5'}
        },
        {
          name: 'lender_contact',
          title: 'Lender Contact',
          type: 'text',
          attributes: {required: true, maxlength: '19'}
        },
        {
          name: 'phone',
          title: 'Phone',
          type: 'text',
          attributes: {required: true, maxlength: '10'}
        },
        {
          name: 'cell_or_ext',
          title: 'Cell or Ext',
          type: 'text',
          attributes: {required: true, maxlength: '10'}
        },
        {
          name: 'contact_email',
          title: 'Contact Email',
          type: 'text',
          attributes: {required: true, maxlength: '31'}
        },
        {
          name: 'title',
          title: 'Title',
          type: 'text',
          attributes: {required: true, maxlength: '31'}
        },
      ],
      access: {
        read: [
          'admins'
        ],
        modify: [
          'admins'
        ]
      }
    },
    "ppp2-draw-application-addendum-a": {
      title: 'Addendum A',
      fields: [
        {
          name: 'affiliated-companies',
          title: 'Affiliated Companies',
          type: 'fieldset',
          multiple: true,
          fields: [
            {
              name: 'entity_name',
              title: 'Entity Name',
              type: 'text'
            },
            {
              name: 'tax_id',
              title: 'Tax ID#',
              type: 'number'
            },
            {
              name: 'ownership_percentage',
              title: 'Ownership %',
              type: 'number'
            },
            {
              name: 'relationship_explanation',
              title: 'Explanation of Principal\'s Relationship to Affiliated Business',
              type: 'text'
            },
            {
              name: 'number_of_employees',
              title: 'Number of Employees',
              type: 'number'
            },
            {
              name: 'ppp_loan_amount',
              title: 'Is this company applying for a PPP loan? If so for how much?',
              type: 'number'
            }
          ],
          access: {
            read: [
              'admins','users'
            ],
            modify: [
              'admins','users'
            ]
          }
        }
      ]
    },
    "ppp2-draw-application-addendum-b": {
      title: 'Addendum B',
      description: "If the Borrower or any affiliated company of the Borrower has obtained an Economic\nInjury Disaster Loan (EIDL), Grant, or both, please give the details below",
      fields: [
        {
          name: 'eidl_type',
          title: 'EIDL Type',
          type: 'select',
          values: [{value: 'Loan'},{value: 'Grant'},{value: 'Both'}]
        },
        {
          name: 'borrowing_entity',
          title: 'Borrowing Entity',
          type: 'text'
        },
        {
          name: 'approval_date',
          title: 'Approval Date',
          type: 'date'
        },
        {
          name: 'amount',
          title: 'EIDL Amount / Grant Amount',
          type: 'number'
        },
        {
          name: 'use_of_proceeds',
          title: 'Use of Proceeds',
          type: 'textarea'
        },
        {
          name: 'eidl_paid_off',
          title: 'EIDL Paid off with this PPP Loan?',
          type: 'select',
          values: [{value: 'Yes'},{value: 'No'}]
        }
      ],
      access: {
        read: [
          'admins','users'
        ],
        modify: [
          'admins','users'
        ]
      }
    },
    "ppp-lender-review": {
      title: 'Submit Lender Decision',
      fields: [
        {
          name: 'borrower-return',
          title: 'Return Application to Borrower',
          type: 'select',
          values: [
            {title: 'No', value: ''},
            {title: 'Yes', value:  'yes'}
          ]
        },
        {
          name: 'ppp-lender-decision',
          title: 'Lender Decision',
          type: 'select',
          visibility: {
            contains: {field: 'borrower-return', value: ''}
          },
          required: true,
          values: [
            {title: '-- none --',
              value: ''
            },
            {
              title: 'Approved in Full',
              value: 'Approved in Full',
            },
            {
              title: 'Approved in Part',
              value: 'Approved in Part',

            },
            {
              title: 'Denied',
              value: 'Denied',
            },
            {
              title: 'Denied without prejudice due to pending SBA review',
              value: 'Denied without prejudice due to pending SBA review',
            }
          ],
          access: {
            read: [
              'admins',
              'managing-officers',
              'loan-officers'
            ],
            modify: [
              'admins',
              'managing-officers',
              'loan-officers'
            ]
          }
        },
        {
          name: 'ppp-lender-confirmation',
          title: 'Do you confirm the submission conditions above?',
          type: 'select',
          visibility: {
            contains: {field: 'borrower-return', value: ''}
          },
          required: true,
          multiple: true,
          values: [
            {
              value: 'I Confirm'
            }
          ],
          access: {
            read: [
              'admins',
              'managing-officers',
              'loan-officers'
            ],
            modify: [
              'admins',
              'managing-officers',
              'loan-officers'
            ]
          }
        },
        {
          name: 'ppp-lender-api-status',
          title: 'SBA API Submission Status',
          /* description: 'Note: this status will change automatically based on feedback from the SBA\n\n\n', */
          type: 'text',

          type: 'select',
          values: [{value: 'Pending'},{value: 'Submitted'},{value: 'Approved'},{value: 'Declined'}],

          access: {
            read: [
              'admins',
              'managing-officers',
              'loan-officers'
            ],
            modify: []
          },
          visibility: {
            contains: {field: 'ppp-lender-confirmation', value: 'I Confirm'}

          },
          attributes: {placeholder: 'Pending'}
        },
        {
          name: 'ppp-lender-api-message',
          title: 'SBA API Submission Message',
          /* description: 'Note: this status will change automatically based on feedback from the SBA\n\n\n', */
          type: 'textarea',
         
          type: 'select',
          values: [{value: 'Pending'},{value: 'Submitted'},{value: 'Approved'},{value: 'Declined'}],
         
          access: {
            read: [
              'admins',
              'managing-officers',
              'loan-officers'
            ],
            modify: []
          },
          visibility: {
            contains: {field: 'ppp-lender-confirmation', value: 'I Confirm'}

          },
          attributes: {placeholder: ''}
        },
        {
          name: 'clear-error',
          title: 'Clear error and retry submission?',
          type: 'select',
          visibility: {
            contains: {field: 'ppp-lender-api-status', value: 'Error while processing submission'}
          },
          required: true,
          multiple: true,
          values: [
            {
              value: 'Yes'
            }
          ],
          access: {
            read: [
              'admins',
              'managing-officers',
              'loan-officers'
            ],
            modify: [
              'admins',
              'managing-officers',
              'loan-officers'
            ]
          }
        },
        {
          name: 'cancel-submission',
          hint: 'Within 24hrs of submitting an application to the SBA it can be cancelled and resubmitted',
          description: 'To cancel a submission select YES and click save, within the hour the application will be cancelled',
          title: 'Cancel SBA Submission',
          type: 'select',
          visibility: {
            contains: {field: 'ppp-lender-confirmation', value: 'I Confirm'}
          },
          values: [
            {title: 'No', value: ''},
            {title: 'Yes', value:  'yes'}
          ]
        },
        {
          name: 'ppp-lender-api-status-details',
          type: 'hidden',
          access: {
            read: [
              'admins',
              'managing-officers',
              'loan-officers'
            ],
            modify: []
          },
        },
      ],
    }
  },
  portfolio: {
    owners: [
      'admins',
      'managing-officers',
      'loan-officers'
    ],
    statuses: {
      'ppp_origination': {title: 'Loan Status', name: 'origination_status'},
      'ppp_forgiveness': {title: 'Forgiveness Status', name: 'forgiveness_status'}
    },
    permissions: [
      {
        groups: [
          'admins',
          'managing-officers'
        ],
        access: {
          view: 'all',
          add: true,
          edit: true
        }
      },
      {
        groups: [
          'loan-officers'
        ],
        access: {
          view: 'own',
          add: true
        }
      }
    ],
    fields: [
      {name: 'legal_name', type: 'text', title: 'Legal Name'},
      {name: 'first_name', type: 'text', title: 'First Name'},
      {name: 'last_name', type: 'text', title: 'Last Name'},
      {name: 'email', type: 'email', title: 'Email'},
      {name: 'business_phone', type: 'tel', title: 'Phone'},

      {name: 'ppp_loan_draw', type: 'text', title: 'Loan Selection'},
      {name: 'loan_workflow_loan_amount', type: 'text', title: 'Loan Amount'},
      {name: 'signature_date_2483', type: 'text', title: 'Borrower Submission Date'},
      {name: 'ppp_loan_decision_date', type: 'date',title: 'SBA Decision Date'},
      {name: 'loan_workflow_sba_loan', type: 'text', title: 'SBA Loan ID'}
    ]
  },
  invitations: {
    owners: [
      'admins',
      'managing-officers',
      'loan-officers'
    ],
    permissions: [
      {
        groups: [
          'admins',
          'managing-officers'
        ],
        access: {
          view: 'all',
          add: true,
        }
      },
      {
        groups: [
          'loan-officers'
        ],
        access: {
          view: 'own',
          add: true
        }
      }
    ],
    access: {
      read: ['admins', 'managing-officers', 'loan-officers'],
      modify: ['admins', 'managing-officers', 'loan-officers']
    },
    uniqueJoinField: 'legal_name',
    fields: [
      {name: 'business_type', type: 'text', title: 'Business Type', hide: true},
      {name: 'dba_tradename', type: 'text', title: 'DBA'},
      {name: 'legal_name', type: 'text', title: 'Legal Name'},

      {name: 'address_line_1', type: 'text', title: 'Address Line 1', hide: true},
      {name: 'address_line_2', type: 'text', title: 'Address Line 2', hide: true},
      {name: 'city', type: 'text', title: 'City', hide: true},
      {name: 'state', type: 'text', title: 'State', hide: true},
      {name: 'zip_code', type: 'text', title: 'Zip Code', hide: true, attributes: {pattern: '[0-9]{5}', oninvalid: "setCustomValidity('Please enter a valid 5 digit code (e.g. 12345).')", oninput: "setCustomValidity('')"}},
      {name: 'zip_code_plus_4', type: 'text', title: 'Zip+4', hide: true, attributes: {pattern: '[0-9]{4}', oninvalid: "setCustomValidity('Please enter a valid 4 digit ZIP+4 code (e.g. 6789).')", oninput: "setCustomValidity('')"}},

      {name: 'tin', type: 'text', title: 'Business TIN', hide: true, attributes: {pattern: '[0-9]{9}', oninvalid: "setCustomValidity('Please enter a valid 9 digit TIN number.')", oninput: "setCustomValidity('')"}},
      {name: 'tin_type', type: 'text', title: 'TIN Type', hide: true},

      {name: 'business_phone', type: 'tel', title: 'Phone'},
      {name: 'first_name', type: 'text', title: 'First Name'},
      {name: 'last_name', type: 'text', title: 'Last Name'},

      {name: 'average_monthly_payroll', type: 'number', title: 'Average Monthly Payroll', hide: true},
      {name: 'loan_amount', type: 'number', title: 'Loan Amount'},


      {name: 'number_of_employees', type: 'text', title: 'Number of Employees', hide: true},
      {name: 'fd_question_1', type: 'text', title: 'Question 1', hide: true},
      {name: 'fd_question_2', type: 'text', title: 'Question 2', hide: true},
      {name: 'fd_question_5', type: 'text', title: 'Question 5', hide: true},
      {name: 'fd_question_6', type: 'text', title: 'Question 6', hide: true},
      {name: 'fd_question_7', type: 'text', title: 'Question 7', hide: true},

      {name: 'ppp_first_draw_sba_loan_number', type: 'text', title: 'PPP First Draw SBA Loan Number', hide: true},
      {name: 'period_1_quarter', type: 'text', title: '2020 Quarter', hide: true},
      {name: 'period_1_revenue', type: 'number', title: '2020 Quarter Gross Receipts', hide: true},
      {name: 'period_2_quarter', type: 'text', title: '2019 Reference Quarter', hide: true},
      {name: 'period_2_revenue', type: 'number', title: '2019 Reference Quarter Gross Receipts', hide: true},

      {name: 'sd_question_1', type: 'number', title: 'Second Draw Question 1', hide: true},
      {name: 'sd_question_2', type: 'number', title: 'Second Draw Question 2', hide: true},
      {name: 'sd_question_4', type: 'number', title: 'Second Draw Question 4', hide: true},
      {name: 'sd_question_5', type: 'number', title: 'Second Draw Question 5', hide: true},
      {name: 'sd_question_6', type: 'number', title: 'Second Draw Question 6', hide: true},
    ],
    status: [
      {
        value: 'new',
        title: 'New'
      },
      {
        value: 'invited',
        title: 'Invited'
      },
      {
        value: 'joined',
        title: 'Joined'
      }
    ]
  }
}
